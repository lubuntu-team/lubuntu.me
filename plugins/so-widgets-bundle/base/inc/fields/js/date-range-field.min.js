!function(e){e(document).on("sowsetupformfield",".siteorigin-widget-field-type-date-range",function(t){var i=e(this).find('input[type="hidden"][class="siteorigin-widget-input"]');if(e(this).find('[class*="sowb-specific-date"]').length>0){var a=function(t,a){var n=e(this).find("."+t+"-picker"),r=new Pikaday({field:n[0],blurFieldOnSelect:!1,onSelect:function(e){var a=""===i.val()?{}:JSON.parse(i.val());a[t]=e.toLocaleDateString({},{year:"numeric",month:"2-digit",day:"2-digit"}),n.val(a[t]),i.val(JSON.stringify(a)),i.trigger("change",{silent:!0})}});return n.change(function(e){return e.preventDefault(),!1}),a&&n.val(a),r}.bind(this),n=""===i.val()?{after:"",before:""}:JSON.parse(i.val()),r=a("after",n.after),s=a("before",n.before);i.change(function(e,t){if(!t||!t.silent){var a=""===i.val()?{after:"",before:""}:JSON.parse(i.val());r.setDate(a.after),s.setDate(a.before)}})}else e(this).find(".sowb-relative-date").length>0&&e(this).find(".sowb-relative-date").each(function(){var t=e(this).data("name");e(this).change(function(){var a=""===i.val()?{}:JSON.parse(i.val());a.hasOwnProperty(t)||(a[t]={}),a[t].value=e(this).find("> input").val(),a[t].unit=e(this).find("> select").val(),i.val(JSON.stringify(a)),i.trigger("change",{silent:!0})}.bind(this)),i.change(function(a,n){if(!n||!n.silent){var r=""===i.val()?{from:{},to:{}}:JSON.parse(i.val());r.hasOwnProperty(t)&&(e(this).find("> input").val(r[t].value),e(this).find("> select").val(r[t].unit))}}.bind(this))})})}(jQuery);